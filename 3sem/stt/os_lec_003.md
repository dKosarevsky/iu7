[home](https://github.com/dKosarevsky/iu7/blob/master/2020_2021_3sem.md) | [Операционные системы](3sem/os.md)
____________________________________
Транскрибировано с помощью [транскрибатора](https://play.google.com/store/apps/details?id=com.google.audio.hearing.visualization.accessibility.scribe) 
____________________________________
лекция 3 от 25.09.20 начиная с 20.06
____________________________________
потоки создаются в результате системного вызова эти потоки описываются соответствующими структурами 

как я уже сказала процессорное время фактически выделяется потоки 

Ну особенно заточены на потоке операционной системы Windows 

Ну это я так говорю, То есть вот Windows как раз буквально всё способствует запуску потоков системный вызов прикрывает и вот Windows поддерживает эти потоки. Вот чего не скажешь о uniq Linux Дело в том, что 

очень легко запустить процесс запуска процесса там ничего не стоит фактически Вот она процесс 

полноценный процесс

в данном обсуждении дел

в данном обсуждении я хотел

ну если это вот так

рассматривает такое положительное потоках то

подумаю Стоит ли заморачиваться на модели 

Вашему вниманию. Я хочу предложить одну поточную модель процесса и многопоточного модель процессов фотографировалась это доступно в интернете. 

набрал соответствующий запрос в поисковике Вы наверняка найдете этот материал Вот и принимать вы поймете что вот я выделила носом и таскает вот просто ядро этих рассуждений город Ну вот самое самое 

как я уже сказала поток это часть кода

программы которые может выполняться параллельно с другими частями фото Но я надеюсь вы понимаете что это должна быть некоторая часть кода 

монолитный кусок Да выполняющее определенную функциональность 

мы сейчас рассмотрим с вами примеры Вот но понимается может быть такая ситуация когда не запускается никаких вопросов Но для того чтобы управлять какой системой должна быть общность общими значит если в программе мы потоков с вами не то система создаст один главный поток 1 система может работать только единообразно это человек может метаться там яблочко ему съесть или группу 

или бананчик система метаться не может она должна работать единообразно 

потоки значит вот единицей диспетчеризации является платок 

не отсюда однопоточная модель процесса и многопоточная модель процессора 

современном Так ведь, но современное положение ящик пива 

я значит структура которая описывает процесс называется дескриптором блоком управления процесс Ну дескриптор это писатель А если пожелаете 

у него есть там собственное собственные выполнение назовём дескриптор потока 

здесь опять есть вещи которые могут бывают ВСС пользователя сидра 

а вы вот только прикладным детали программки да 

нет надо 

цвет какой-то там раскрашивали да то есть он всё-таки и как-то сумел вас научись 

нам 

сделали Юта всего этого определенные выводы 

наверное ванну не успела акцентировать на этом внимание 

постарайтесь вспомнить 

и собственно 

знания которые Вы получили нации должны подтверждать то что я вам рассказываю вот мы они смотрели 

Нет он научил его запускать программы. Да это исправлять ошибки, да? 

наша преподаватель он был привлечен 

опытный преподаватель Алексеев берете средства него голова 

заяц 

Обычно вот 

работа для студентов 

выполнение 

программа вход видео демонстрируется регистры в 1С отладчик Я вас спрашиваю игра ответы не получаю Вот это такое Я вчера трудилась в 12:00 до 9:00. при этом подряд провела семинар лекция семинар, сегодня, я Еле дошла до Университета И сегодня я S10 провожу занятия 

я вашим языком я должна стоять у доски и не бегать не мяукать 

Вы же свои деньги тратить. 

ещё раз 

вспоминайте фотка твоего вида регистра пошагово выполняли программу пошагово лифтом это очень важно пошагово выполняли видели что содержимое регистров меняется и то есть аппаратный конфет 

регистры содержат информацию о выполняемой команде 

ты аппаратные кончается 

но там конечно 

система скрывает от пользователя аппаратные прерывания если так можно выразиться конечно там не видно Когда выполняете по шагам свою программу операционная система выполняет обработчик прерываний от системного таймера этаже код ядра Вы же смотрели выполнение кода приложения ваши программы это приложение 

То есть я хочу сказать, что простых вытащили. 

нужно стоят трогали его в том числе значит это был стояк пользователя так пользователя а то есть вы видели что церковь заносит что 

команды на которую надо вернуться правильно это адрес следующей команды 

Кто в системе 

каждый поток процесс должны иметь два Степа наших систему стык пользователя истек ядра 

Staddydrop создаются автоматически от ваших желаний не зависит будет он создан и ленивым будет создан не вдохе. 

таких операционных систем как Windows preview нет 

почему Можно два Стрелка Почему нельзя всё писать в одиннадцатое окно для этого нельзя использовать этот пользователь а потому что на самом деле пользователь может создать несколько типов пользователь может изменить размер стека А если вы создали несколько стыков произошло переключение в режим ядра Как решить В какой степи ей писать этого решить не может при выполнении кода ядра могут возникать переключения этого кода и в этом случае надо за информацию кстати ядра поэтому Посмотрите каждый поток имеет тест пользователя истек ядра 

при этом ещё раз повторяю так пользователя вы можете создать несколько треков можете изменить размер ты это но так ядра извиняйте во мне 

обязательно существует Вот это модель датчика дальше мы видим как я сказала потоки своего адресного пространства не имеют и выполняются в адресном пространстве процесса

вот мы видим адресное пространство 

однопоточная модели это многопоточная модель Почему существует однопоточная модель я так же сказала, это делается для общности система всё делает единообразно, если мы пришли к потокам. то если в программе потоки не запускаются всё равно система будет рассматривать что в программе создается один главный поток 

чтобы работать единообразно со всеми потоками 

это понятно 

мотивация 

применение потоков 

потоки 

современное программирование когда 

процесс имеет 

набор задач 

выполнение которых не зависят друг от друга то есть набор независимых задач 

это особенно 

когда например одна задача может блокироваться 

при этом другие задачи могут продолжать выполняться 

например 

текстовый редактор 

музей вас представляю как работает текстовые редакторы но наверное вы не задумывались над тем что например тот же вот это приложение и цели от 

приложение текстовый редактор, например, в этом текстовом редакторе низко pre-process 

может проверить грамматику 

правописание 

в то время когда другой поток 

например загружает какое-то изображение диска Вот вы решили свой текст. Включи какое это изображение. 

при этом мы понимаем что обращение к жесткому диску связано Это внешние устройства 

связано с блокировками 

Но наш низко приоритетные процесс, как раз в это время может проверить правописание того от каких-то, которые мы уже набрали незаметно только эти вот параллельно. 

процесс 

может периодически выполнять 

резервное копирование 

автоматически то есть вот он так написан это Сватов что время от времени автоматически сохраняет набранные текст это очень удобно например Вы забыли сохранить как-то там сидели долго думали что может произойти свет отключили А у вас всё сохранено это огромное достижение такая возможность редактора мы просто уже привыкли к этому но это написано это не волшебство так работает 

типы параллелизма 

теоретически Имеются два разных пути 

параллелизм данных параллелизм задач 

распараллеливание данных 

это разделение данных между несколькими ягодами 

при этом 

надо 

каждой части этих данных выполняются одни и те же задачи 

например разделение большого изображения на фрагменты 

и выполнение 

одинаковые обработки каждого фрагмента 

время общей обработки изображения будет запрещено 

распараллеливание задачи это разделение 

приложение на 

задачи, которые могут выполняться Независимо друг от друга параллельно 

на разных ягодах примером является тот же самый текстовый редактор который мы только что рассмотрели это распараллеливание задач 

проблемы программирования 

я разработчиков приложений которые метров основания 

в контексте рассматриваемой проблемы существует пять областей где многорежимный преподносят новые проблемы первое 

определение задач 

анализ приложений 

для 

выявление действий, которые могли бы выполняться параллельно 

второе 

сбалансированность 

опять же анализ и поиск задач для параллельного выполнения которые имеют одинаковую по масштабу 

Давайте обсудим этот трейлер. 

wordington довольно ясны то есть не может быть так что одна задача у нас какая-то огромная какие-то тривиальные маленькие 

функциональные задачи должна быть примерно одинаковые сбалансирован 

здесь предлагаются следующие Федя Не тратьте хосоке на тривиальные задачи 

проблема на улице а гонками называется параллельно потоков к ним и тем же данным это называется разделение данных 

этому будет посвящен целый огромный кусок нашего курса но как проблему мы должны назвать это сейчас 

задача разработчиков предотвращать условия возникновения года 

четвёртое 

отдельную проблему может составлять зависимость данных если одна задача зависит от результата выполнения другой 

когда задачи должны быть синхронизированы 

Для обеспечения 

в данных 

в правильном порядке 

5 

отладка 

случаем многопоточных приложений становятся более сложными 

поскольку условия гонок становятся намного сложнее 

и их значительно труднее обнаружить 

мы смотрели два глобальных типа потоков потоки режима пользователя и потоки режима ядра может быть кто-то из вас слышал название

lightweight процессов 

не слышали может как-то не заморачиваться расскажите 

это объективные процессы lightweight Франции 

расскажите пожалуйста 

вот тогда промежуточная промежуточное решение но не промежуточная в смысле кого проходного а как вот эти два глобальных типа платок 

Инвест 

это замечательные иллюстрации следует что видите lightweight процесса как бы являются посредниками между потоками пользователя ну как бы проработанный это тема является в операционной системе саларис 

большая иллюстрация значит 

вот этой более простой люстрация это значит можно сказать следующая значит облегчённый процесс lightweight процесс можно рассматривать как отображение 

между потоками на пользовательском уровне и потоками ядра 

для этих потоков должна существовать специальная библиотека 

каждая из облегчённого процессов 

поддерживает один или несколько 

шкатулка на уровне пользователя 

и отображает их в один поток ядра то есть вот это как бы один к одному модель Но может модель многих одному 

планирование процентов производится ядром Независимо 

в многопроцессорной системе облегчённая процессы могут выполняться на нескольких процессорах 

структуры данных облегчённого процесса существуют в рамках адрес соответствующего им процесса 

но 

облегчённая процесс связан с единственным Диспетчере Зуевым потоком ядра 

да 

структуры данных объективного процесса существуют в рамках адресного пространства соответствующего процесса в тоже время каждый связан с единственным Диспетчере Зуевым потоком ядра 

структуры потока ядра поддерживаются в адресном пространстве ядра 

возникает вопрос за чёлка разгородить мотивация 

мотивация такой вот такого подхода коротко очень мотивация 

совместное использование потоков на пользовательском уровне и на уровне ядра даёт программисту возможность 

выбрать вариант параллелизма 

который будет наиболее эффективным для конкретного приложения 

важно отметить 

в данной схеме объединяется два типа фотографов на токи уровне пользователя и потоки уровня ядра

в результате 

потоки на пользовательском уровне можно создавать уничтожать блокировать 

запускать без участия ядра 

в то же время 

в качестве ядрёна в потоков можно в этой модели определять блокирующее все потоки 

Господа emote если вот перед вами встанет такая задача вот как будто вы извещены о возможностях то существует такая вот промежуточная модель которая объединяет и потоки уровне пользователя и потоки уровня ядра 

в принципе я вам рассказала сегодня то что хотела сказать значит следующая тема которую я упустила это иерархическая машина медника донована 

я подумала что надо всё-таки сначала рассказать о процессах чтобы собственно было понятно почему медника Донован твою иерархическую машину Именно таким образом но сейчас я сомневаюсь Это станет так Ну давайте запишем иерархическая и виртуальная машина 

Мы сейчас с Вами рассмотрим эту тему на следующем занятии мы с вами это идём к большой теме управление памятью а то я чего-то без за рассмотрение вопросов управления таким важным ресурсом Как понять в общем-то невозможно двигаться дальше как-то Вот например даже рассматривает системный вызов Fork язык там всё упоминается память на следующем занятии мы с вами начнем рассматривать управление памятью Ну а сейчас мы рассмотрим вот эту эротическую машину ну я назвала её иерархическая машины медника донована потому что именно предложили такой взгляд на операционную систему смыслами уже вот сегодня только это поняли что операционная В общем сложная программа многоуровневая и безусловно стремление разработчиков образом структурировать операционная система и менее данного построили свою иерархическую машину в общем-то относительно базового кременчугу понятие операционных систем процессов и уровни иерархии в зависимости от близости к аппаратному обеспечению начали с какого определить определение что такое вычислительная машина да Если вы помните как мы определили 

машину 

Техническая 

Это программа управления. если вы купите голые железы вы сможете его только покрутить вас никакой радости она работать не будет она начинает работать когда вы на него устанавливаете соответствующее программное обеспечение которое на сегодня называется операционная система 

Ну они рисовали кругами. 

я не буду оригинальной Центральная кружок это аппаратура 

Нижний Нижний уровень управления процессами 

следующий уровень это 

верхний уровень управления процессами 

ничего 

Ну немножечко сократим. 

управление устройством 

управление данными 

волна это вот попытка этих замечательных авторов показать какие функции выполняются непосредственно на самом Нижнем уровне то есть вот на самом Нижнем уровне имеет непосредственную связь с аппаратной частью Какие 1-я востоке в городе при этом мы видим что здесь только процессы это машина построенная относительно процессов Может быть у нас дойдёт до этого нарисую вам иерархическую структуру unix bsd там увидите что водка Вот Эта мысль 

всего один вертикальный уровень этой операционной системы но смысл в чём-то управления процессами это непосредственное выделение процессов процессорного времени диспетчеризации на более высоком уровне находится планирование 

ещё на более высоком уровне находится создание и завершение процессов 

Выскажите но устройство этажа аппаратура. Почему так высоко находится уровень управления устройством управления устройствами железные послала, она железная. 

идет о 

а таскаешь подсистеме ввода вывода подсистемы ввода-вывода она действительно тоже многоуровневая безусловно здесь вот 

Саманта Смит непосредственно в самой непосредственной близости к аппаратной части находятся драйверы устройств, но решение какому устройству какому процессу Какое устройство выделить принимается подсистемы ввода-вывода? 

управление данными это собственно файловая подсистема и мы видим что она располагается над уровнем управления устройствами 

хотя мы понимаем что Жесткий диск это устройство Да это железо но как я уже сказал это очень условная иерархия построен относительно процесса Ау файловой системы есть задачи которые выполняются на самом высоком уровне например задача именования фай

лов вот мы привыкли с вами файлы Давайте имена 

Вот например студенты первого курса они всегда там файлы отдают свои имена Почему как ты имя своё очень нравится вот это называется вода именования Это очень уровень это уровень каталогов именования файлов это уровень символьного представления он удобен пользователя 

затем после того как вот вы файлов именовали он поименован в системе вам наверняка должен кому должен был рассказывать про полное имя файла худеть полное имя файла это диск директория поддиректории и собственно в самом конце имя файла, важно полное имя файла, то есть, вот вся эта цепочка, та, которая это этот файл, может быть патология, но для адресации информации записанной файл на Debian файловая Она позволяет пользователю обратиться к этому файлу как можно более просто для системы имя файлы ничего не значат 

системы важен идентификатор файла файл должен иметь идентификатор но например в unix File имеет так на сокращение Index not индексный Узел это бессмысленно историческим просто прижившиеся разработчики Unity когда-то идентификатор файла назвали анодом значит в результате соответствующим взаимодействия соответствующих структур А ещё будет произведена обращение найден номер Ой ну да самое но ты-то огромная структура которая уже позволяет а то есть это тоже такая иерархия но собственно для пользователя это действительно высокоуровневая действия связанные с именование файлов Но что собственно уровень файловой системы над уровнем управления данными устройствами потому что файлы хранятся на устройстве на диске то есть 

обращаясь к файлу открывая файл записываю что-то файл тем самым обращаетесь устройство и будет задействовано подсистема управления устройствами они построили эту иерархической но стоит целью чтобы в общем-то определить какие функции На каком уровне должны выполняться сделаны eatable скажем иметь возможность параллельной создание операционной системы операционные системы это очень сложно для того чтобы разрабатываться коллективом вот надо определить эти вот такие абстракции для того чтобы такую систему мог разрабатывать коллектив Необходимо определить интерфейсы между уровнями интерфейсы между уровнем для программиста Интерфейс это на горку 

значит если определенный набор функций с помощью которого верхний уровень может обращаться к нижней Значит мы определили интерфейс между уровнем интерфейс может быть непрозрачным 

прозрачно 

и каким-то смешная полупрозрачный Что значит не прозрачный интерфейс Значит мы не можем обратиться к уровню через уровень 

терпеть естественно это позволяет 

полупрозрачный значит что-то не позволяет обратиться какие-то мы не можем сделать обращение через уровень А какие-то можно 

Ну приступим можем заранее определить виртуализацию. 

тоже понятия широко используется 

Ну определил следующим образом. 

смотреть чистым железом водородом является аппаратурой как только на комп операционную систему Мы в своё распоряжение получаем совсем другие возможности вы покупаете Да тактовая частота объём оперативной памяти до объем жесткого диска на SSD 

поставили операционку Вот и власть такой навороченный комп. 

Прошу вас не устраивает в быстродействии. Почему Потому что фактически в свое распоряжение мы получили совсем другую машину виртуальная операционная система формирует для вас виртуальную машину. 

совершенно другими возможностями вы получаете возможность раскрыть там что-то уже пускать что ты всё это поддерживается программно вот 

каждый уровень тоже можно рассматривать как некую виртуализацию то есть с чистой аппаратуры работает только Самый Нижний уровень все остальные уровни уже работают через соответствующие интерфейсы сервис все возможности которые предоставляет не снижающие уровень вот и всё 

вот такие рассуждения 

ещё раз они полезны с точки зрения структурирование кода операционной системы Ну и если этот говорить от разработчиков то во вторую вот тот человек который приезжал к нам из Microsoft начальник отдела разработки операционной системы я этот рассказ слышала несколько раз без слёз я его слушать не могла рассказывал как они коллективом разрабатывают

операционную систему Windows не знаем что фактически unix был разработан время человека при этом функциональность вынимать одно и тоже но Вы даже можете прочитать о танненбаум а у него есть там такой небольшой параграф он сравнивает операционную систему Windows июне Ну и пишет вот под unix катастрофа под Windows атом больше чем 10 раз дольше 

Вот это действительно проблематично такую сложную систему разрабатывает таким огромным коллективом Ну достаточно сказать что в Microsoft как он нам объясняла он ника-2 суперкомпьютера и они операционную систему которую вырабатывают поддерживают в рабочем состоянии то есть она у них работает понятно что часть функций заменена заглушками вот значит президентом 60 сколько это большое а люди Вот они же должны шевелится Но это Особенно ярко видно на наших чиновников Вот откуда у нас так много идей они должны Показать что они нужны Также имеется это поэтому одесса-рим должны так видимо и в майке высокая совет должны что-то улучшать вносить изменения 

изменения фиксируются передаются значит там в отдел который эти изменения фиксируют они вносятся вход Этот кот потом спускается отлаживает и так постоянно 2 суперкомпьютеров ну И в тоже время вот мы знаем историю создания июне тихо спокойно все написали 

привили человечеству Или тот же этот самый как его линус торвальдс Да поругался с этим самым как его он работал был там его аспирантам или нет или не аспирантам дипломникам зарабатывает операционную систему миникотик много лет слышали наверное но почитайте Чем занята мне сошлись в итоге значит он до диплом в качестве своей дипломной работы написал ядро Linux и открыл его 

Ну то есть уже была идея я забыла фамилию этого замечательного человека который стал продвигать идею открытых кодов и собственно вот к нему подключилась линус торвальдс результаты они изменили мир Ну Господа я думаю на этом мы с вами закончим определение виртуализации Подскажите ещё раз хочу вам показать что ну я не говорю а виртуальную машину вот эти виртуальные машины это отдельная там собственно программными средствами создают эмулирует реальное железо

Вот это только мысль Я хотела доставить выразить наверное неудачно Дубцова поёт определения его прослушал хотел уточнить я не давала определение Я просто говорила что вот существует много понятий виртуальных машин самое такое близкое нам с Вами Мы работаем на виртуальной машине Нам её создают операционная система на нам предоставляет возможности которые железо не имеет а суета Как невиртуальные возможно сдаются 

следующий раз ещё раз хочу подчеркнуть у нас начнёт большая очень важная тема управление памятью
